EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A3 16535 11693
encoding utf-8
Sheet 1 14
Title "Project Mowgli"
Date "2022-05-22"
Rev "1.0.1"
Comp ""
Comment1 "(c) CyberNet / cn@warp.at"
Comment2 "https://github.com/cloudn1ne/Mowgli"
Comment3 ""
Comment4 ""
$EndDescr
Wire Wire Line
	4150 1700 3450 1700
Wire Wire Line
	4150 1800 3450 1800
$Sheet
S 1650 2750 1800 900 
U 628CB5EF
F0 "PAC5223QM (Blade Motor)" 50
F1 "PAC5223QM.sch" 50
F2 "PAC5223_UART_TX" O R 3450 2850 50 
F3 "PAC5223_UART_RX" I R 3450 2950 50 
F4 "PAC5223_nRESET1" I R 3450 3550 50 
F5 "PAC5223_PE0" O R 3450 3200 50 
F6 "PAC5223_PD7" O R 3450 3300 50 
F7 "PAC5223_PD3_Safety" I L 1650 3550 50 
$EndSheet
Wire Wire Line
	4150 2850 3450 2850
Wire Wire Line
	3450 2950 4150 2950
Wire Wire Line
	3450 3550 3550 3550
$Sheet
S 1650 1600 1800 900 
U 628A0B7D
F0 "PAC5210QS (Drive Motors)" 50
F1 "PAC5210QS.sch" 50
F2 "PAC5210_UART_TX" O R 3450 1700 50 
F3 "PAC5210_UART_RX" I R 3450 1800 50 
F4 "PAC5210_PC4" I L 1650 1800 50 
F5 "PAC5210_74366_nOE" I L 1650 1900 50 
F6 "PAC5210_PC3" I L 1650 1700 50 
F7 "PAC5210_PA6" O R 3450 1900 50 
F8 "PAC5210_PE4" O R 3450 2000 50 
$EndSheet
$Comp
L Device:LED D?
U 1 1 628F5BF0
P 9900 2900
F 0 "D?" H 9893 2645 50  0000 C CNN
F 1 "LED" H 9893 2736 50  0000 C CNN
F 2 "" H 9900 2900 50  0001 C CNN
F 3 "~" H 9900 2900 50  0001 C CNN
	1    9900 2900
	-1   0    0    1   
$EndComp
Entry Wire Line
	7050 1650 7150 1750
Entry Wire Line
	7050 1550 7150 1650
Entry Wire Line
	7050 1450 7150 1550
Entry Wire Line
	1550 1600 1650 1700
Entry Wire Line
	1550 1700 1650 1800
Entry Wire Line
	1550 1800 1650 1900
Wire Bus Line
	1550 950  7050 950 
Wire Wire Line
	3550 3550 3550 5200
Wire Wire Line
	4150 3200 3450 3200
Wire Wire Line
	4150 3300 3450 3300
Wire Wire Line
	4150 2000 3450 2000
Wire Wire Line
	4150 1900 3450 1900
Text Notes 2350 1800 0    50   Italic 10
USART 2
Text Notes 2350 2950 0    50   Italic 10
USART 3
Wire Wire Line
	3550 5200 7150 5200
Wire Wire Line
	7150 1950 6350 1950
Wire Wire Line
	6350 2050 7150 2050
Wire Wire Line
	7150 2150 6350 2150
Wire Wire Line
	6350 2250 7150 2250
Wire Wire Line
	7150 2350 6350 2350
Wire Wire Line
	6350 2550 7150 2550
Wire Wire Line
	7150 2900 6350 2900
Wire Wire Line
	6350 3000 7150 3000
Wire Wire Line
	7150 3450 6350 3450
Wire Wire Line
	6350 3550 7150 3550
Wire Wire Line
	7150 3850 6350 3850
Wire Wire Line
	6350 4050 7150 4050
Wire Wire Line
	7150 4150 6350 4150
Wire Wire Line
	6350 4250 7150 4250
Wire Wire Line
	7150 4350 6350 4350
Text Notes 6600 4250 0    50   ~ 0
4x PWM
Text Notes 6600 3550 0    50   Italic 10
USART 2
Text Notes 6600 3000 0    50   Italic 10
UART 4
Text Notes 6600 2250 0    50   Italic 10
USART 3
Text Label 10350 1550 0    50   ~ 0
Enable_24V_Motors
$Sheet
S 5500 5550 850  1350
U 62926FC8
F0 "J18 (Red Connector)" 47
F1 "J18 (Red Connector).sch" 47
F2 "J18_Pin_1" I L 5500 5800 50 
F3 "J18_Pin_7" O L 5500 6400 50 
F4 "J18_Pin_8" I L 5500 6500 50 
F5 "J18_Pin_2_VBAT" U L 5500 5900 50 
F6 "J18_Pin_6_5V" U L 5500 6300 50 
F7 "J18_Pin_5_SPI3_CLK" I L 5500 6200 50 
F8 "J18_Pin_4_SPI3_DO" I L 5500 6100 50 
F9 "J18_Pin_3_SPI3_DI" O L 5500 6000 50 
$EndSheet
Entry Wire Line
	4050 4700 4150 4600
Entry Wire Line
	4050 4600 4150 4500
Entry Wire Line
	4050 4500 4150 4400
Wire Bus Line
	4050 5550 4900 5550
Entry Wire Line
	5000 5800 4900 5700
Entry Wire Line
	4900 6400 5000 6500
Entry Wire Line
	4900 6300 5000 6400
Wire Wire Line
	5500 6500 5000 6500
Wire Wire Line
	5000 6400 5500 6400
Text Notes 4600 4600 0    50   Italic 10
UART 4
Text Notes 5150 6500 0    50   Italic 10
UART 4
$Sheet
S 7450 7250 850  1350
U 62934C83
F0 "J5 (Signal)" 50
F1 "J5 (Signal).sch" 50
F2 "J5_Pin_1" U L 7450 7350 50 
F3 "J5_Pin_4" I L 7450 7700 50 
F4 "J5_Pin_5" I L 7450 7800 50 
$EndSheet
Entry Wire Line
	4050 3750 4150 3650
Entry Wire Line
	4050 3650 4150 3550
Wire Bus Line
	4050 3650 4050 3750
Wire Bus Line
	4050 3750 3900 3750
Wire Bus Line
	3900 3750 3900 5000
Wire Bus Line
	3900 5000 6850 5000
Entry Wire Line
	7350 7800 7450 7700
Entry Wire Line
	7350 7900 7450 7800
Wire Bus Line
	7350 7900 7350 7800
Wire Bus Line
	6850 7800 6850 5000
Wire Bus Line
	6850 7800 7350 7800
Entry Wire Line
	7050 6100 7150 6200
Entry Wire Line
	7050 6000 7150 6100
Entry Wire Line
	6300 7450 6400 7550
Entry Wire Line
	6300 7550 6400 7650
Wire Bus Line
	6400 7350 7000 7350
Wire Bus Line
	7000 7350 7000 6150
Wire Bus Line
	7000 6150 7050 6150
Text Notes 7600 6200 0    50   Italic 10
USART 1
Text Notes 5550 7550 0    50   Italic 10
USART 1
Entry Wire Line
	9450 6000 9550 6100
Entry Wire Line
	9450 6100 9550 6200
Entry Wire Line
	9450 6200 9550 6300
$Sheet
S 12250 5050 1600 1250
U 6293F03E
F0 "SPI and I2C" 50
F1 "SPI_I2C.sch" 50
F2 "SPI3_DIO" B L 12250 5950 50 
F3 "SPI3_CLK" I L 12250 6050 50 
F4 "SPI3_FLASH_nCS" B L 12250 6150 50 
F5 "SPI3_DO" O L 12250 5850 50 
F6 "ACCEL_SCL" I L 12250 5250 50 
F7 "ACCEL_SDA" I L 12250 5350 50 
$EndSheet
Entry Wire Line
	9450 5900 9550 6000
Entry Wire Line
	12150 6250 12250 6150
Entry Wire Line
	12150 6150 12250 6050
Entry Wire Line
	12150 6050 12250 5950
Entry Wire Line
	12150 5950 12250 5850
Wire Bus Line
	12150 6400 9550 6400
Entry Wire Line
	12150 5450 12250 5350
Entry Wire Line
	12150 5350 12250 5250
Entry Wire Line
	9450 5650 9550 5750
Entry Wire Line
	9450 5550 9550 5650
Wire Bus Line
	9550 5800 12150 5800
Text Notes 10750 6350 0    50   Italic 10
SPI3
Text Notes 12200 1000 0    118  ~ 24
Project Mowgli - System Architecture
$Sheet
S 4150 1500 2200 3250
U 628B14E1
F0 "HC245" 50
F1 "HC245.sch" 50
F2 "PAC5210_UART_TX" I L 4150 1700 50 
F3 "PAC5210_UART_RX" O L 4150 1800 50 
F4 "PAC5223_UART_TX" I L 4150 2850 50 
F5 "PAC5223_UART_RX" O L 4150 2950 50 
F6 "J5_Pin_5" O L 4150 3650 50 
F7 "J5_Pin_4" O L 4150 3550 50 
F8 "J18_Pin_1" O L 4150 4400 50 
F9 "J18_Pin_7" O L 4150 4500 50 
F10 "PAC5223_PD7" I L 4150 3300 50 
F11 "PAC5223_PE0" I L 4150 3200 50 
F12 "PAC5210_PA6" I L 4150 1900 50 
F13 "PAC5210_PE4" I L 4150 2000 50 
F14 "J11_Pin_6" I L 4150 4050 50 
F15 "HC245_STM32_PE10" O R 6350 4050 50 
F16 "HC245_STM32_PE11" O R 6350 4150 50 
F17 "HC245_STM32_PE12" O R 6350 4250 50 
F18 "HC245_STM32_PE13" O R 6350 4350 50 
F19 "HC245_STM32_PB14" O R 6350 2550 50 
F20 "HC245_STM32_PD6" O R 6350 3550 50 
F21 "HC245_STM32_PB11" O R 6350 2250 50 
F22 "HC245_STM32_PC11" O R 6350 3000 50 
F23 "HC245_STM32_PD5" I R 6350 3450 50 
F24 "HC245_STM32_PB10" I R 6350 2150 50 
F25 "HC245_STM32_PC10" I R 6350 2900 50 
F26 "HC245_STM32_PD13" I R 6350 3850 50 
F27 "HC245_STM32_PB8" I R 6350 1950 50 
F28 "HC245_STM32_PB9" I R 6350 2050 50 
F29 "HC245_STM32_PB12" I R 6350 2350 50 
F30 "J18_Pin_8" I L 4150 4600 50 
$EndSheet
$Sheet
S 12250 1450 1600 1750
U 628DB6FB
F0 "power_charge" 50
F1 "power_charge.sch" 50
F2 "TF4_24V" I L 12250 1550 50 
F3 "CHARGE_LOW_SIDE_DRIVER" I L 12250 1700 50 
F4 "CHARGE_HIGH_SIDE_DRIVER" I L 12250 1800 50 
F5 "Charge_Voltage" O L 12250 2150 59 
F6 "BatteryVoltage" O L 12250 2300 59 
$EndSheet
Wire Wire Line
	9450 1550 12250 1550
Wire Wire Line
	12250 1700 9450 1700
Wire Wire Line
	9450 1800 12250 1800
Wire Wire Line
	12250 2150 9450 2150
Wire Wire Line
	12250 2300 9450 2300
Text Notes 10750 5750 0    50   Italic 10
I2C1
Wire Wire Line
	7450 7350 7200 7350
Wire Wire Line
	7200 7350 7200 8950
Wire Wire Line
	7200 8950 4650 8950
Wire Wire Line
	4650 8950 4650 8000
Connection ~ 4650 8000
Wire Wire Line
	5500 5800 5000 5800
Wire Wire Line
	5500 6300 5150 6300
Wire Wire Line
	5150 6300 5150 6850
Wire Wire Line
	5150 6850 4650 6850
Wire Wire Line
	4650 6850 4650 8000
Wire Bus Line
	9550 6400 9550 7100
Wire Bus Line
	9550 7100 5050 7100
Connection ~ 9550 6400
Entry Wire Line
	5050 5900 5150 6000
Entry Wire Line
	5050 6000 5150 6100
Entry Wire Line
	5050 6100 5150 6200
Wire Wire Line
	5500 6200 5150 6200
Wire Wire Line
	5150 6100 5500 6100
Wire Wire Line
	5500 6000 5150 6000
Text Notes 5200 6100 0    50   Italic 10
SPI3
$Sheet
S 2450 5700 900  800 
U 629B383F
F0 "J1 (Beep)" 50
F1 "J1.sch" 50
F2 "J18_Pin_2" B R 3350 5900 50 
$EndSheet
$Comp
L power:+5V #PWR?
U 1 1 629F5580
P 4400 7900
F 0 "#PWR?" H 4400 7750 50  0001 C CNN
F 1 "+5V" H 4415 8073 50  0000 C CNN
F 2 "" H 4400 7900 50  0001 C CNN
F 3 "" H 4400 7900 50  0001 C CNN
	1    4400 7900
	1    0    0    -1  
$EndComp
Wire Wire Line
	4650 8000 4400 8000
Wire Wire Line
	4400 8000 4400 7900
Wire Wire Line
	5100 8000 4650 8000
$Sheet
S 5100 7300 1200 1500
U 6292FE67
F0 "J6 (Control Panel)" 50
F1 "J6 (Control Panel).sch" 50
F2 "J6_Pin_9" U L 5100 8000 50 
F3 "J6_Pin_1" I R 6300 7450 50 
F4 "J6_Pin_3" O R 6300 7550 50 
F5 "J6_Pin_10_Wheel_blue" O L 5100 8500 50 
F6 "J6_Pin_14_Stop_yellow" O L 5100 8600 50 
F7 "J6_Pin_6_Stop_white" O L 5100 8400 50 
F8 "J6_Pin_16_Wheel_red" O L 5100 8700 50 
F9 "J6_Pin_4_PLAY" O R 6300 8300 50 
F10 "J6_Pin_11_RainSensor" O L 5100 8150 50 
F11 "J6_Pin_15,13,12,8,7_GND" O R 6300 7850 50 
$EndSheet
$Sheet
S 8700 7750 1050 800 
U 62B975B8
F0 "Mainboard Rain" 50
F1 "Mainboard Rain.sch" 50
F2 "J6_Pin_11_RainSensor" I L 8700 7950 50 
F3 "RAIN_Sensor_PE2" O R 9750 8200 50 
$EndSheet
Wire Wire Line
	9450 5250 10000 5250
Wire Wire Line
	10000 5250 10000 8200
Wire Wire Line
	10000 8200 9750 8200
Wire Wire Line
	8700 7950 8550 7950
Wire Wire Line
	8550 7950 8550 9350
Wire Wire Line
	8550 9350 4450 9350
$Sheet
S 12250 3500 1600 1200
U 62BC248C
F0 "Mainboard Safety" 50
F1 "Mainboard Safety.sch" 50
F2 "J6_Pin_16_Wheel_red" I R 13850 3700 50 
F3 "J6_Pin_10_Wheel_blue" I R 13850 3600 50 
F4 "PD1_Wheel_red" O L 12250 3700 50 
F5 "PD0_Wheel_blue" O L 12250 3600 50 
F6 "J6_Pin_6_Stop_white" I R 13850 3800 50 
F7 "J6_Pin_14_Stop_yellow" I R 13850 3900 50 
F8 "PC0_Stop_yellow" O L 12250 3800 50 
F9 "STM32_PD2" O L 12250 4100 50 
F10 "PC8_Stop_white" O L 12250 3900 50 
F11 "STM32_PD3" O L 12250 4200 50 
F12 "J6_Pin_15_GND" I R 13850 4000 50 
F13 "J6_Pin_12_GND" I R 13850 4100 50 
F14 "PA8_MechTilt" O L 12250 4000 50 
F15 "PAC5223_PD3_Safety" O L 12250 4600 50 
$EndSheet
$Sheet
S 10450 2450 950  300 
U 62C3C0F1
F0 "Mainboard Beeper" 50
F1 "Mainboard Beeper.sch" 50
F2 "BEEPER" I L 10450 2600 50 
$EndSheet
Wire Wire Line
	9450 2600 10450 2600
Wire Wire Line
	9750 2900 9450 2900
Wire Wire Line
	12250 3900 9450 3900
Wire Wire Line
	12250 3800 9450 3800
Wire Wire Line
	9450 3700 12250 3700
Wire Wire Line
	12250 3600 9450 3600
$Comp
L power:GND #PWR?
U 1 1 62B0D03C
P 14000 4200
F 0 "#PWR?" H 14000 3950 50  0001 C CNN
F 1 "GND" H 14005 4027 50  0000 C CNN
F 2 "" H 14000 4200 50  0001 C CNN
F 3 "" H 14000 4200 50  0001 C CNN
	1    14000 4200
	1    0    0    -1  
$EndComp
Wire Wire Line
	13850 4000 14000 4000
Wire Wire Line
	14000 4000 14000 4100
$Comp
L power:GND #PWR?
U 1 1 62B0FECA
P 6400 7950
F 0 "#PWR?" H 6400 7700 50  0001 C CNN
F 1 "GND" H 6405 7777 50  0000 C CNN
F 2 "" H 6400 7950 50  0001 C CNN
F 3 "" H 6400 7950 50  0001 C CNN
	1    6400 7950
	1    0    0    -1  
$EndComp
Wire Wire Line
	6300 7850 6400 7850
Wire Wire Line
	6400 7850 6400 7950
Wire Wire Line
	13850 4100 14000 4100
Wire Wire Line
	14000 4200 14000 4100
Connection ~ 14000 4100
Wire Wire Line
	12250 4000 9450 4000
Wire Wire Line
	12250 4600 11900 4600
Wire Wire Line
	11900 4600 11900 750 
Wire Wire Line
	11900 750  1200 750 
Wire Wire Line
	1200 750  1200 3550
Wire Wire Line
	1200 3550 1650 3550
$Sheet
S 7150 1450 2300 5150
U 628D8F35
F0 "STM32F103 (Main CPU)" 50
F1 "STM32F103.sch" 50
F2 "PAC5223_nRESET1" O L 7150 5200 50 
F3 "PAC5210_PC4" U L 7150 1650 50 
F4 "PAC5210_74366_nOE" I L 7150 1550 50 
F5 "PAC5210_PC3" U L 7150 1750 50 
F6 "TF4_24V" O R 9450 1550 50 
F7 "LED" O R 9450 2900 50 
F8 "HC245_STM32_PE10" I L 7150 4050 50 
F9 "HC245_STM32_PE12" I L 7150 4250 50 
F10 "HC245_STM32_PE13" I L 7150 4350 50 
F11 "HC245_STM32_PE11" I L 7150 4150 50 
F12 "HC245_STM32_PB14" I L 7150 2550 50 
F13 "HC245_STM32_PD13" O L 7150 3850 50 
F14 "HC245_STM32_PB8" O L 7150 1950 50 
F15 "HC245_STM32_PB9" O L 7150 2050 50 
F16 "HC245_STM32_PB12" O L 7150 2350 50 
F17 "HC245_STM32_PD5" O L 7150 3450 50 
F18 "HC245_STM32_PD6" I L 7150 3550 50 
F19 "HC245_STM32_PB10" O L 7150 2150 50 
F20 "HC245_STM32_PB11" I L 7150 2250 50 
F21 "HC245_STM32_PC10" O L 7150 2900 50 
F22 "HC245_STM32_PC11" I L 7150 3000 50 
F23 "J6_Pin_1" O L 7150 6100 50 
F24 "J6_Pin_3" I L 7150 6200 50 
F25 "SPI3_DIO" B R 9450 6000 50 
F26 "SPI3_CLK" O R 9450 6100 50 
F27 "SPI3_FLASH_nCS" O R 9450 6200 50 
F28 "SPI3_DO" O R 9450 5900 50 
F29 "ACCEL_SCL" O R 9450 5550 50 
F30 "ACCEL_SDA" O R 9450 5650 50 
F31 "CHARGE_LOW_SIDE_DRIVER" O R 9450 1700 50 
F32 "CHARGE_HIGHSIDE_DRIVER" O R 9450 1800 50 
F33 "Charge_Voltage" I R 9450 2150 59 
F34 "BatteryVoltage" I R 9450 2300 59 
F35 "RAIN_Sensor_PE2" I R 9450 5250 50 
F36 "BEEPER" O R 9450 2600 50 
F37 "PD1_Wheel_red" I R 9450 3600 50 
F38 "PD0_Wheel_blue" I R 9450 3700 50 
F39 "PC0_Stop_yellow" I R 9450 3800 50 
F40 "PC8_Stop_white" I R 9450 3900 50 
F41 "PA8_MechTilt" I R 9450 4000 50 
F42 "STM32_PD2" I R 9450 4100 50 
F43 "STM32_PD3" I R 9450 4200 50 
F44 "PC7_Panel_PLAY" I L 7150 6450 50 
$EndSheet
Wire Wire Line
	12250 4100 9450 4100
Wire Wire Line
	12250 4200 9450 4200
Wire Wire Line
	7150 6450 7100 6450
Wire Wire Line
	7100 6450 7100 8300
Wire Wire Line
	7100 8300 6300 8300
Wire Wire Line
	5100 8150 4450 8150
Wire Wire Line
	4450 8150 4450 9350
Wire Bus Line
	6400 7350 6400 7650
Wire Bus Line
	7050 6000 7050 6150
Wire Bus Line
	9550 5650 9550 5800
Wire Bus Line
	12150 5350 12150 5800
Wire Wire Line
	3350 5900 5500 5900
Wire Bus Line
	7050 950  7050 1650
Wire Bus Line
	1550 950  1550 1800
Wire Bus Line
	4050 4500 4050 5550
Wire Bus Line
	4900 5550 4900 6400
Wire Bus Line
	5050 5900 5050 7100
Wire Bus Line
	12150 5950 12150 6400
Wire Bus Line
	9550 6000 9550 6400
$EndSCHEMATC
